<mat-sidenav-container class="app-container" [dir]="isRtl() ? 'rtl' : 'ltr'">
  <mat-sidenav #sidenav [mode]="isMobile() ? 'over' : 'side'" [opened]="!isMobile()" class="app-sidenav">

    <div class="sidenav-header">
      <mat-icon class="brand-icon">inventory_2</mat-icon>
      <div class="brand-text">
        <span class="brand-name">{{ 'APP.NAME' | translate }}</span>
        <span class="brand-sub">{{ 'APP.SUBTITLE' | translate }}</span>
      </div>
    </div>

    <mat-divider></mat-divider>

    <mat-nav-list class="nav-list">
      <a mat-list-item *ngFor="let item of navItems" [routerLink]="item.route" routerLinkActive="active-link"
        [routerLinkActiveOptions]="{ exact: item.route === '/' }" (click)="isMobile() && sidenav.close()">
        <mat-icon matListItemIcon>{{ item.icon }}</mat-icon>
        <span matListItemTitle>{{ item.labelKey | translate }}</span>
      </a>
    </mat-nav-list>
  </mat-sidenav>

  <mat-sidenav-content class="sidenav-content">
    <mat-toolbar class="app-toolbar">
      <button mat-icon-button (click)="sidenav.toggle()" [attr.aria-label]="'TOOLBAR.TOGGLE_MENU' | translate">
        <mat-icon>menu</mat-icon>
      </button>
      <span class="toolbar-title">{{ 'TOOLBAR.TITLE' | translate }}</span>
      <span class="toolbar-spacer"></span>
      <span class="toolbar-date">{{ today | date:(isRtl() ? 'dd/MM/yyyy' : 'EEE, MMM d') }}</span>

      <!-- Language Toggle -->
      <button mat-icon-button (click)="toggleLang()" class="lang-btn" [matTooltip]="'TOOLBAR.TOGGLE_LANG' | translate">
        <span class="lang-label">{{ currentLang() === 'en' ? 'Ø¹' : 'EN' }}</span>
      </button>

      <!-- Dark Mode Toggle -->
      <button mat-icon-button (click)="toggleTheme()" [matTooltip]="'TOOLBAR.TOGGLE_DARK' | translate">
        <mat-icon>{{ isDark() ? 'light_mode' : 'dark_mode' }}</mat-icon>
      </button>
    </mat-toolbar>

    <main class="main-content">
      <router-outlet></router-outlet>
    </main>
  </mat-sidenav-content>
</mat-sidenav-container>